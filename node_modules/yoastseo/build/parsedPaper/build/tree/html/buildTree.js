"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _parse = require("parse5");
var _HTMLTreeConverter = _interopRequireDefault(require("./HTMLTreeConverter"));
var _postParsing = _interopRequireDefault(require("../cleanup/postParsing"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/**
 * Parses the given html-string to a tree, to be used in further analysis.
 *
 * @param {string} html The html-string that should be parsed.
 *
 * @returns {module:parsedPaper/structure.Node} The build tree.
 *
 * @memberOf module:parsedPaper/builder
 */
const buildTree = function (html) {
  /*
   * Parsing of a HTML article takes on average 19ms
   * (based on the fullTexts in the specs (n=24), measured using `console.time`).
   */
  const parse5Tree = (0, _parse.parseFragment)(html, {
    sourceCodeLocationInfo: true
  });
  const htmlTreeConverter = new _HTMLTreeConverter.default();
  let tree = htmlTreeConverter.convert(parse5Tree);

  // Cleanup takes < 2ms.
  tree = (0, _postParsing.default)(tree);
  return tree;
};
var _default = exports.default = buildTree;
//# sourceMappingURL=buildTree.js.map